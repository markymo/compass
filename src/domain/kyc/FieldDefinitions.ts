/**
 * FieldDefinitions.ts
 * 
 * Canonical mapping of Master Schema Field Numbers (1-119, excluding 94) to Prisma models.
 * This is the single source of truth for Field No â†’ Schema mapping.
 * 
 * Naming: Uses Prisma model names (PascalCase) and field names (camelCase)
 * Database table/column names included as reference only
 */

export type FieldDefinition = {
    fieldNo: number;
    fieldName: string;
    model: string; // Prisma model name (PascalCase)
    field: string | null; // Prisma field name (camelCase), null for document-only
    dataType: 'string' | 'integer' | 'boolean' | 'date' | 'datetime' | 'jsonb' | 'document';
    isRepeating: boolean;
    dbTable?: string; // Database table name (snake_case) - reference only
    dbColumn?: string; // Database column name (snake_case) - reference only
    notes?: string;
};

export const FIELD_DEFINITIONS: Record<number, FieldDefinition> = {
    // Identity Profile (Fields 1-3, 6-10, 11-15, 26-27)
    1: {
        fieldNo: 1,
        fieldName: 'LEI validation date',
        model: 'IdentityProfile',
        field: 'leiValidationDate',
        dataType: 'datetime',
        isRepeating: false,
        dbTable: 'identity_profiles',
        dbColumn: 'leiValidationDate',
    },
    2: {
        fieldNo: 2,
        fieldName: 'LEI',
        model: 'IdentityProfile',
        field: 'leiCode',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'identity_profiles',
        dbColumn: 'leiCode',
    },
    3: {
        fieldNo: 3,
        fieldName: 'Legal name',
        model: 'IdentityProfile',
        field: 'legalName',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'identity_profiles',
        dbColumn: 'legalName',
    },

    // Entity Names (Fields 4-5) - Repeating
    4: {
        fieldNo: 4,
        fieldName: 'Trading name',
        model: 'EntityName',
        field: 'name',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'entity_names',
        dbColumn: 'name',
    },
    5: {
        fieldNo: 5,
        fieldName: 'Previous name',
        model: 'EntityName',
        field: 'name',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'entity_names',
        dbColumn: 'name',
        notes: 'Differentiated by type field',
    },

    // Identity Profile - Registered Address (Fields 6-10)
    6: {
        fieldNo: 6,
        fieldName: 'Registered address line 1',
        model: 'IdentityProfile',
        field: 'regAddressLine1',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'identity_profiles',
        dbColumn: 'regAddressLine1',
    },
    7: {
        fieldNo: 7,
        fieldName: 'Registered address city',
        model: 'IdentityProfile',
        field: 'regAddressCity',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'identity_profiles',
        dbColumn: 'regAddressCity',
    },
    8: {
        fieldNo: 8,
        fieldName: 'Registered address region',
        model: 'IdentityProfile',
        field: 'regAddressRegion',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'identity_profiles',
        dbColumn: 'regAddressRegion',
    },
    9: {
        fieldNo: 9,
        fieldName: 'Registered address country',
        model: 'IdentityProfile',
        field: 'regAddressCountry',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'identity_profiles',
        dbColumn: 'regAddressCountry',
    },
    10: {
        fieldNo: 10,
        fieldName: 'Registered address postcode',
        model: 'IdentityProfile',
        field: 'regAddressPostcode',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'identity_profiles',
        dbColumn: 'regAddressPostcode',
    },

    // Identity Profile - HQ Address (Fields 11-15)
    11: {
        fieldNo: 11,
        fieldName: 'Headquarters address line 1',
        model: 'IdentityProfile',
        field: 'hqAddressLine1',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'identity_profiles',
        dbColumn: 'hqAddressLine1',
    },
    12: {
        fieldNo: 12,
        fieldName: 'Headquarters address city',
        model: 'IdentityProfile',
        field: 'hqAddressCity',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'identity_profiles',
        dbColumn: 'hqAddressCity',
    },
    13: {
        fieldNo: 13,
        fieldName: 'Headquarters address region',
        model: 'IdentityProfile',
        field: 'hqAddressRegion',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'identity_profiles',
        dbColumn: 'hqAddressRegion',
    },
    14: {
        fieldNo: 14,
        fieldName: 'Headquarters address country',
        model: 'IdentityProfile',
        field: 'hqAddressCountry',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'identity_profiles',
        dbColumn: 'hqAddressCountry',
    },
    15: {
        fieldNo: 15,
        fieldName: 'Headquarters address postcode',
        model: 'IdentityProfile',
        field: 'hqAddressPostcode',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'identity_profiles',
        dbColumn: 'hqAddressPostcode',
    },

    // Constitutional Profile (Fields 16-18)
    16: {
        fieldNo: 16,
        fieldName: 'Registration authority GLEIF ID',
        model: 'ConstitutionalProfile',
        field: 'registrationAuthorityGleifId',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'constitutional_profiles',
        dbColumn: 'registrationAuthorityGleifId',
    },
    17: {
        fieldNo: 17,
        fieldName: 'Registration authority',
        model: 'ConstitutionalProfile',
        field: 'registrationAuthority',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'constitutional_profiles',
        dbColumn: 'registrationAuthority',
    },
    18: {
        fieldNo: 18,
        fieldName: 'Registered number',
        model: 'ConstitutionalProfile',
        field: 'registeredNumber',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'constitutional_profiles',
        dbColumn: 'registeredNumber',
    },

    // Entity Info Profile (Fields 19-25)
    19: {
        fieldNo: 19,
        fieldName: 'GLEIF entity category',
        model: 'EntityInfoProfile',
        field: 'gleifEntityCategory',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'entity_info_profiles',
        dbColumn: 'gleifEntityCategory',
    },
    20: {
        fieldNo: 20,
        fieldName: 'Industry classification',
        model: 'IndustryClassification',
        field: 'code',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'industry_classifications',
        dbColumn: 'code',
    },
    21: {
        fieldNo: 21,
        fieldName: 'Entity legal form code',
        model: 'EntityInfoProfile',
        field: 'entityLegalFormCode',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'entity_info_profiles',
        dbColumn: 'entityLegalFormCode',
    },
    22: {
        fieldNo: 22,
        fieldName: 'Country of formation',
        model: 'EntityInfoProfile',
        field: 'countryOfFormation',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'entity_info_profiles',
        dbColumn: 'countryOfFormation',
    },
    23: {
        fieldNo: 23,
        fieldName: 'Country code',
        model: 'EntityInfoProfile',
        field: 'countryCode',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'entity_info_profiles',
        dbColumn: 'countryCode',
    },
    24: {
        fieldNo: 24,
        fieldName: 'Entity legal form local name',
        model: 'EntityInfoProfile',
        field: 'entityLegalFormLocalName',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'entity_info_profiles',
        dbColumn: 'entityLegalFormLocalName',
    },
    25: {
        fieldNo: 25,
        fieldName: 'Entity legal form transliterated name',
        model: 'EntityInfoProfile',
        field: 'entityLegalFormTransliteratedName',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'entity_info_profiles',
        dbColumn: 'entityLegalFormTransliteratedName',
    },

    // Identity Profile - Entity Status (Fields 26-27)
    26: {
        fieldNo: 26,
        fieldName: 'Entity status',
        model: 'IdentityProfile',
        field: 'entityStatus',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'identity_profiles',
        dbColumn: 'entityStatus',
    },
    27: {
        fieldNo: 27,
        fieldName: 'Entity creation date',
        model: 'IdentityProfile',
        field: 'entityCreationDate',
        dataType: 'datetime',
        isRepeating: false,
        dbTable: 'identity_profiles',
        dbColumn: 'entityCreationDate',
    },

    // LEI Registration (Fields 28-35)
    28: {
        fieldNo: 28,
        fieldName: 'LEI registration date',
        model: 'LeiRegistration',
        field: 'leiRegistrationDate',
        dataType: 'datetime',
        isRepeating: false,
        dbTable: 'lei_registrations',
        dbColumn: 'leiRegistrationDate',
    },
    29: {
        fieldNo: 29,
        fieldName: 'LEI registration update date',
        model: 'LeiRegistration',
        field: 'leiRegistrationUpdateDate',
        dataType: 'datetime',
        isRepeating: false,
        dbTable: 'lei_registrations',
        dbColumn: 'leiRegistrationUpdateDate',
    },
    30: {
        fieldNo: 30,
        fieldName: 'LEI registration status',
        model: 'LeiRegistration',
        field: 'leiRegistrationStatus',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'lei_registrations',
        dbColumn: 'leiRegistrationStatus',
    },
    31: {
        fieldNo: 31,
        fieldName: 'LEI registration next renewal',
        model: 'LeiRegistration',
        field: 'leiRegistrationNextRenewal',
        dataType: 'datetime',
        isRepeating: false,
        dbTable: 'lei_registrations',
        dbColumn: 'leiRegistrationNextRenewal',
    },
    32: {
        fieldNo: 32,
        fieldName: 'LEI issuer LEI',
        model: 'LeiRegistration',
        field: 'leiIssuerLei',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'lei_registrations',
        dbColumn: 'leiIssuerLei',
    },
    33: {
        fieldNo: 33,
        fieldName: 'LEI issuer',
        model: 'LeiRegistration',
        field: 'leiIssuer',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'lei_registrations',
        dbColumn: 'leiIssuer',
    },
    34: {
        fieldNo: 34,
        fieldName: 'LEI corroboration level',
        model: 'LeiRegistration',
        field: 'leiCorroborationLevel',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'lei_registrations',
        dbColumn: 'leiCorroborationLevel',
    },
    35: {
        fieldNo: 35,
        fieldName: 'LEI corroboration source',
        model: 'LeiRegistration',
        field: 'leiCorroborationSource',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'lei_registrations',
        dbColumn: 'leiCorroborationSource',
    },

    // Relationship Profile - Direct Parent (Fields 36-39)
    36: {
        fieldNo: 36,
        fieldName: 'Direct parent ID',
        model: 'RelationshipProfile',
        field: 'directParentId',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'directParentId',
    },
    37: {
        fieldNo: 37,
        fieldName: 'Direct parent',
        model: 'RelationshipProfile',
        field: 'directParent',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'directParent',
    },
    38: {
        fieldNo: 38,
        fieldName: 'Direct parent ID type',
        model: 'RelationshipProfile',
        field: 'directParentIdType',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'directParentIdType',
    },
    39: {
        fieldNo: 39,
        fieldName: 'Direct parent relationship',
        model: 'RelationshipProfile',
        field: 'directParentRelationship',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'directParentRelationship',
    },

    // Relationship Profile - Ultimate Parent (Fields 40-43)
    40: {
        fieldNo: 40,
        fieldName: 'Ultimate parent ID',
        model: 'RelationshipProfile',
        field: 'ultimateParentId',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'ultimateParentId',
    },
    41: {
        fieldNo: 41,
        fieldName: 'Ultimate parent',
        model: 'RelationshipProfile',
        field: 'ultimateParent',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'ultimateParent',
    },
    42: {
        fieldNo: 42,
        fieldName: 'Ultimate parent ID type',
        model: 'RelationshipProfile',
        field: 'ultimateParentIdType',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'ultimateParentIdType',
    },
    43: {
        fieldNo: 43,
        fieldName: 'Ultimate parent relationship',
        model: 'RelationshipProfile',
        field: 'ultimateParentRelationship',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'ultimateParentRelationship',
    },

    // Relationship Profile - Fund Manager (Fields 44-48)
    44: {
        fieldNo: 44,
        fieldName: 'Fund manager ID',
        model: 'RelationshipProfile',
        field: 'fundManagerId',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'fundManagerId',
    },
    45: {
        fieldNo: 45,
        fieldName: 'Fund manager',
        model: 'RelationshipProfile',
        field: 'fundManager',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'fundManager',
    },
    46: {
        fieldNo: 46,
        fieldName: 'Fund manager ID type',
        model: 'RelationshipProfile',
        field: 'fundManagerIdType',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'fundManagerIdType',
    },
    47: {
        fieldNo: 47,
        fieldName: 'Fund manager relationship',
        model: 'RelationshipProfile',
        field: 'fundManagerRelationship',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'fundManagerRelationship',
    },
    48: {
        fieldNo: 48,
        fieldName: 'Fund manager relationship status',
        model: 'RelationshipProfile',
        field: 'fundManagerRelationshipStatus',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'fundManagerRelationshipStatus',
    },

    // Relationship Profile - Umbrella Fund (Fields 49-53)
    49: {
        fieldNo: 49,
        fieldName: 'Umbrella fund ID',
        model: 'RelationshipProfile',
        field: 'umbrellaFundId',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'umbrellaFundId',
    },
    50: {
        fieldNo: 50,
        fieldName: 'Umbrella fund',
        model: 'RelationshipProfile',
        field: 'umbrellaFund',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'umbrellaFund',
    },
    51: {
        fieldNo: 51,
        fieldName: 'Umbrella fund ID type',
        model: 'RelationshipProfile',
        field: 'umbrellaFundIdType',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'umbrellaFundIdType',
    },
    52: {
        fieldNo: 52,
        fieldName: 'Umbrella fund relationship',
        model: 'RelationshipProfile',
        field: 'umbrellaFundRelationship',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'umbrellaFundRelationship',
    },
    53: {
        fieldNo: 53,
        fieldName: 'Umbrella fund relationship status',
        model: 'RelationshipProfile',
        field: 'umbrellaFundRelationshipStatus',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'umbrellaFundRelationshipStatus',
    },

    // Relationship Profile - Exceptions (Fields 54-55)
    54: {
        fieldNo: 54,
        fieldName: 'LEI direct parent exception',
        model: 'RelationshipProfile',
        field: 'leiDirectParentException',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'leiDirectParentException',
    },
    55: {
        fieldNo: 55,
        fieldName: 'LEI ultimate parent exception',
        model: 'RelationshipProfile',
        field: 'leiUltimateParentException',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'relationship_profiles',
        dbColumn: 'leiUltimateParentException',
    },

    // Document-only field (Field 56)
    56: {
        fieldNo: 56,
        fieldName: 'Constitutional and formation documents',
        model: 'DocumentRegistry',
        field: null,
        dataType: 'document',
        isRepeating: false,
        notes: 'Document upload only',
    },

    // Constitutional Profile (Fields 57-59)
    57: {
        fieldNo: 57,
        fieldName: 'Registration authority GLEIF ID (duplicate)',
        model: 'ConstitutionalProfile',
        field: 'registrationAuthorityGleifId',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'constitutional_profiles',
        dbColumn: 'registrationAuthorityGleifId',
        notes: 'Same as Field 16',
    },
    58: {
        fieldNo: 58,
        fieldName: 'Registration authority (duplicate)',
        model: 'ConstitutionalProfile',
        field: 'registrationAuthority',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'constitutional_profiles',
        dbColumn: 'registrationAuthority',
        notes: 'Same as Field 17',
    },
    59: {
        fieldNo: 59,
        fieldName: 'Registered number (duplicate)',
        model: 'ConstitutionalProfile',
        field: 'registeredNumber',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'constitutional_profiles',
        dbColumn: 'registeredNumber',
        notes: 'Same as Field 18',
    },

    // Document-only fields (Fields 60-61)
    60: {
        fieldNo: 60,
        fieldName: 'Certificate of incorporation',
        model: 'DocumentRegistry',
        field: null,
        dataType: 'document',
        isRepeating: false,
        notes: 'Document upload only',
    },
    61: {
        fieldNo: 61,
        fieldName: 'Memorandum and articles of association',
        model: 'DocumentRegistry',
        field: null,
        dataType: 'document',
        isRepeating: false,
        notes: 'Document upload only',
    },

    // Stakeholders (Fields 62-73)
    62: {
        fieldNo: 62,
        fieldName: 'List of ultimate beneficial owners',
        model: 'Stakeholder',
        field: 'role',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'stakeholders',
        dbColumn: 'role',
        notes: 'Role = UBO',
    },
    63: {
        fieldNo: 63,
        fieldName: 'List of company directors',
        model: 'Stakeholder',
        field: 'role',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'stakeholders',
        dbColumn: 'role',
        notes: 'Role = DIRECTOR',
    },
    64: {
        fieldNo: 64,
        fieldName: 'List of persons controlling',
        model: 'Stakeholder',
        field: 'role',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'stakeholders',
        dbColumn: 'role',
        notes: 'Role = CONTROLLER',
    },
    65: {
        fieldNo: 65,
        fieldName: 'Full name (individual)',
        model: 'Stakeholder',
        field: 'fullName',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'stakeholders',
        dbColumn: 'fullName',
    },
    66: {
        fieldNo: 66,
        fieldName: 'Date and place of birth',
        model: 'Stakeholder',
        field: 'dateOfBirth',
        dataType: 'datetime',
        isRepeating: true,
        dbTable: 'stakeholders',
        dbColumn: 'dateOfBirth',
    },
    67: {
        fieldNo: 67,
        fieldName: 'Nationalities',
        model: 'Stakeholder',
        field: 'nationalities',
        dataType: 'jsonb',
        isRepeating: true,
        dbTable: 'stakeholders',
        dbColumn: 'nationalities',
    },
    68: {
        fieldNo: 68,
        fieldName: 'ID including proof of address',
        model: 'Stakeholder',
        field: 'idDocumentId',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'stakeholders',
        dbColumn: 'idDocumentId',
        notes: 'FK to DocumentRegistry',
    },
    69: {
        fieldNo: 69,
        fieldName: 'Company legal name (corporate)',
        model: 'Stakeholder',
        field: 'legalName',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'stakeholders',
        dbColumn: 'legalName',
    },
    70: {
        fieldNo: 70,
        fieldName: 'LEI (corporate)',
        model: 'Stakeholder',
        field: 'leiCode',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'stakeholders',
        dbColumn: 'leiCode',
    },
    71: {
        fieldNo: 71,
        fieldName: 'Registration authority GLEIF ID (corporate)',
        model: 'Stakeholder',
        field: 'registrationAuthorityGleifId',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'stakeholders',
        dbColumn: 'registrationAuthorityGleifId',
    },
    72: {
        fieldNo: 72,
        fieldName: 'Registration authority (corporate)',
        model: 'Stakeholder',
        field: 'registrationAuthority',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'stakeholders',
        dbColumn: 'registrationAuthority',
    },
    73: {
        fieldNo: 73,
        fieldName: 'Registered number (corporate)',
        model: 'Stakeholder',
        field: 'registeredNumber',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'stakeholders',
        dbColumn: 'registeredNumber',
    },

    // Document-only field (Field 74)
    74: {
        fieldNo: 74,
        fieldName: 'Ownership structure chart',
        model: 'DocumentRegistry',
        field: null,
        dataType: 'document',
        isRepeating: false,
        notes: 'Document upload only',
    },

    // Compliance Profile (Fields 75-80)
    75: {
        fieldNo: 75,
        fieldName: 'Operating countries',
        model: 'ComplianceProfile',
        field: 'operatingCountries',
        dataType: 'jsonb',
        isRepeating: false,
        dbTable: 'compliance_profiles',
        dbColumn: 'operatingCountries',
    },
    76: {
        fieldNo: 76,
        fieldName: 'High risk countries',
        model: 'ComplianceProfile',
        field: 'highRiskCountries',
        dataType: 'jsonb',
        isRepeating: false,
        dbTable: 'compliance_profiles',
        dbColumn: 'highRiskCountries',
    },
    77: {
        fieldNo: 77,
        fieldName: 'High risk sectors',
        model: 'ComplianceProfile',
        field: 'highRiskSectors',
        dataType: 'jsonb',
        isRepeating: false,
        dbTable: 'compliance_profiles',
        dbColumn: 'highRiskSectors',
    },
    78: {
        fieldNo: 78,
        fieldName: 'UK sanctions check',
        model: 'ComplianceProfile',
        field: 'ukSanctionsCheck',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'compliance_profiles',
        dbColumn: 'ukSanctionsCheck',
    },
    79: {
        fieldNo: 79,
        fieldName: 'EU sanctions check',
        model: 'ComplianceProfile',
        field: 'euSanctionsCheck',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'compliance_profiles',
        dbColumn: 'euSanctionsCheck',
    },
    80: {
        fieldNo: 80,
        fieldName: 'OFAC sanctions check',
        model: 'ComplianceProfile',
        field: 'ofacSanctionsCheck',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'compliance_profiles',
        dbColumn: 'ofacSanctionsCheck',
    },

    // Tax Registrations (Field 81)
    81: {
        fieldNo: 81,
        fieldName: 'Tax ID by country',
        model: 'TaxRegistration',
        field: 'taxId',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'tax_registrations',
        dbColumn: 'taxId',
    },

    // Document-only fields (Fields 82, 84)
    82: {
        fieldNo: 82,
        fieldName: 'W-8BEN-E',
        model: 'DocumentRegistry',
        field: null,
        dataType: 'document',
        isRepeating: false,
        notes: 'Document upload only',
    },
    83: {
        fieldNo: 83,
        fieldName: 'FATCA status',
        model: 'TaxProfile',
        field: 'fatcaStatus',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'tax_profiles',
        dbColumn: 'fatcaStatus',
    },
    84: {
        fieldNo: 84,
        fieldName: 'CRS self-certification',
        model: 'DocumentRegistry',
        field: null,
        dataType: 'document',
        isRepeating: false,
        notes: 'Document upload only',
    },

    // Financial Profile (Fields 85-90)
    85: {
        fieldNo: 85,
        fieldName: 'Last accounts made up to',
        model: 'FinancialProfile',
        field: 'lastAccountsMadeUpTo',
        dataType: 'datetime',
        isRepeating: false,
        dbTable: 'financial_profiles',
        dbColumn: 'lastAccountsMadeUpTo',
    },
    86: {
        fieldNo: 86,
        fieldName: 'Next accounting date',
        model: 'FinancialProfile',
        field: 'nextAccountingDate',
        dataType: 'datetime',
        isRepeating: false,
        dbTable: 'financial_profiles',
        dbColumn: 'nextAccountingDate',
    },
    87: {
        fieldNo: 87,
        fieldName: 'Next accounts due date',
        model: 'FinancialProfile',
        field: 'nextAccountsDueDate',
        dataType: 'datetime',
        isRepeating: false,
        dbTable: 'financial_profiles',
        dbColumn: 'nextAccountsDueDate',
    },
    88: {
        fieldNo: 88,
        fieldName: 'Last statement date',
        model: 'FinancialProfile',
        field: 'lastStatementDate',
        dataType: 'datetime',
        isRepeating: false,
        dbTable: 'financial_profiles',
        dbColumn: 'lastStatementDate',
    },
    89: {
        fieldNo: 89,
        fieldName: 'Next statement date',
        model: 'FinancialProfile',
        field: 'nextStatementDate',
        dataType: 'datetime',
        isRepeating: false,
        dbTable: 'financial_profiles',
        dbColumn: 'nextStatementDate',
    },
    90: {
        fieldNo: 90,
        fieldName: 'Next statement due date',
        model: 'FinancialProfile',
        field: 'nextStatementDueDate',
        dataType: 'datetime',
        isRepeating: false,
        dbTable: 'financial_profiles',
        dbColumn: 'nextStatementDueDate',
    },

    // Derivatives Profile (Fields 91-93)
    91: {
        fieldNo: 91,
        fieldName: 'ISDA master regulatory disclosure letter',
        model: 'DerivativesProfile',
        field: 'isdaMasterRegulatoryDisclosureLetterRef',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'derivatives_profiles',
        dbColumn: 'isdaMasterRegulatoryDisclosureLetterRef',
        notes: 'Document reference',
    },
    92: {
        fieldNo: 92,
        fieldName: 'ISDA EMIR classification letter',
        model: 'DerivativesProfile',
        field: 'isdaEmirClassificationLetterRef',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'derivatives_profiles',
        dbColumn: 'isdaEmirClassificationLetterRef',
        notes: 'Document reference',
    },
    93: {
        fieldNo: 93,
        fieldName: 'ISDA US self-disclosure letter',
        model: 'DerivativesProfile',
        field: 'isdaUsSelfdisclosureLetterRef',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'derivatives_profiles',
        dbColumn: 'isdaUsSelfdisclosureLetterRef',
        notes: 'Document reference',
    },

    // Field 94 is a placeholder (excluded)

    // Document-only field (Field 95)
    95: {
        fieldNo: 95,
        fieldName: 'List of authorised traders',
        model: 'DocumentRegistry',
        field: null,
        dataType: 'document',
        isRepeating: false,
        notes: 'Document upload only - data also in AuthorizedTrader table',
    },

    // Authorized Traders (Fields 96-101)
    96: {
        fieldNo: 96,
        fieldName: 'Trader full name',
        model: 'AuthorizedTrader',
        field: 'fullName',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'authorized_traders',
        dbColumn: 'fullName',
    },
    97: {
        fieldNo: 97,
        fieldName: 'Trader email',
        model: 'AuthorizedTrader',
        field: 'email',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'authorized_traders',
        dbColumn: 'email',
    },
    98: {
        fieldNo: 98,
        fieldName: 'Trader telephone',
        model: 'AuthorizedTrader',
        field: 'phone',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'authorized_traders',
        dbColumn: 'phone',
    },
    99: {
        fieldNo: 99,
        fieldName: 'Trader mobile',
        model: 'AuthorizedTrader',
        field: 'mobile',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'authorized_traders',
        dbColumn: 'mobile',
    },
    100: {
        fieldNo: 100,
        fieldName: 'Proof of trading authority',
        model: 'AuthorizedTrader',
        field: 'authorityDocumentId',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'authorized_traders',
        dbColumn: 'authorityDocumentId',
        notes: 'Can be document OR attestation text',
    },
    101: {
        fieldNo: 101,
        fieldName: 'Products authorized',
        model: 'AuthorizedTrader',
        field: 'products',
        dataType: 'jsonb',
        isRepeating: true,
        dbTable: 'authorized_traders',
        dbColumn: 'products',
    },

    // Trading Profile (Fields 102-103)
    102: {
        fieldNo: 102,
        fieldName: 'Board minute authorising individuals to trade',
        model: 'TradingProfile',
        field: 'boardMinuteAuthorisingIndividualsRef',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'trading_profiles',
        dbColumn: 'boardMinuteAuthorisingIndividualsRef',
        notes: 'Document reference',
    },
    103: {
        fieldNo: 103,
        fieldName: 'Board minute authorising entry into transactions',
        model: 'TradingProfile',
        field: 'boardMinuteAuthorisingTransactionsRef',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'trading_profiles',
        dbColumn: 'boardMinuteAuthorisingTransactionsRef',
        notes: 'Document reference',
    },

    // Contacts (Fields 104-106)
    104: {
        fieldNo: 104,
        fieldName: 'Contact address',
        model: 'Contact',
        field: 'address',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'contacts',
        dbColumn: 'address',
    },
    105: {
        fieldNo: 105,
        fieldName: 'Contact attention',
        model: 'Contact',
        field: 'attention',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'contacts',
        dbColumn: 'attention',
    },
    106: {
        fieldNo: 106,
        fieldName: 'Contact email',
        model: 'Contact',
        field: 'email',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'contacts',
        dbColumn: 'email',
    },

    // Contact Profile (Fields 107-109)
    107: {
        fieldNo: 107,
        fieldName: 'Process agent',
        model: 'ContactProfile',
        field: 'processAgent',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'contact_profiles',
        dbColumn: 'processAgent',
    },
    108: {
        fieldNo: 108,
        fieldName: 'Office',
        model: 'ContactProfile',
        field: 'office',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'contact_profiles',
        dbColumn: 'office',
    },
    109: {
        fieldNo: 109,
        fieldName: 'Is multibranch party',
        model: 'ContactProfile',
        field: 'isMultibranchParty',
        dataType: 'boolean',
        isRepeating: false,
        dbTable: 'contact_profiles',
        dbColumn: 'isMultibranchParty',
    },

    // Derivatives Profile (Fields 110-112)
    110: {
        fieldNo: 110,
        fieldName: 'ISDA reporting delegation agreement',
        model: 'DerivativesProfile',
        field: 'isdaReportingDelegationAgreementRef',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'derivatives_profiles',
        dbColumn: 'isdaReportingDelegationAgreementRef',
        notes: 'Document reference',
    },
    111: {
        fieldNo: 111,
        fieldName: 'ISDA FIA EMIR reporting delegation',
        model: 'DerivativesProfile',
        field: 'isdaFiaEmirReportingDelegationRef',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'derivatives_profiles',
        dbColumn: 'isdaFiaEmirReportingDelegationRef',
        notes: 'Document reference',
    },
    112: {
        fieldNo: 112,
        fieldName: 'ISDA 2013 reporting protocol side letter',
        model: 'DerivativesProfile',
        field: 'isda2013ReportingProtocolSideLetterRef',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'derivatives_profiles',
        dbColumn: 'isda2013ReportingProtocolSideLetterRef',
        notes: 'Document reference',
    },

    // Contact Profile (Fields 113-115)
    113: {
        fieldNo: 113,
        fieldName: 'Portfolio data email',
        model: 'ContactProfile',
        field: 'portfolioDataEmail',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'contact_profiles',
        dbColumn: 'portfolioDataEmail',
    },
    114: {
        fieldNo: 114,
        fieldName: 'Discrepancy notice email',
        model: 'ContactProfile',
        field: 'discrepancyNoticeEmail',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'contact_profiles',
        dbColumn: 'discrepancyNoticeEmail',
    },
    115: {
        fieldNo: 115,
        fieldName: 'Dispute notice email',
        model: 'ContactProfile',
        field: 'disputeNoticeEmail',
        dataType: 'string',
        isRepeating: false,
        dbTable: 'contact_profiles',
        dbColumn: 'disputeNoticeEmail',
    },

    // Settlement Instructions (Fields 116-119)
    116: {
        fieldNo: 116,
        fieldName: 'Settlement currency',
        model: 'SettlementInstruction',
        field: 'currency',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'settlement_instructions',
        dbColumn: 'currency',
    },
    117: {
        fieldNo: 117,
        fieldName: 'Settlement account name',
        model: 'SettlementInstruction',
        field: 'accountName',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'settlement_instructions',
        dbColumn: 'accountName',
    },
    118: {
        fieldNo: 118,
        fieldName: 'Settlement account number',
        model: 'SettlementInstruction',
        field: 'accountNumber',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'settlement_instructions',
        dbColumn: 'accountNumber',
    },
    119: {
        fieldNo: 119,
        fieldName: 'Settlement IBAN/SWIFT',
        model: 'SettlementInstruction',
        field: 'ibanSwift',
        dataType: 'string',
        isRepeating: true,
        dbTable: 'settlement_instructions',
        dbColumn: 'ibanSwift',
    },
};

/**
 * Get field definition by Field No
 * @throws Error if Field No is unknown
 */
export function getFieldDefinition(fieldNo: number): FieldDefinition {
    const def = FIELD_DEFINITIONS[fieldNo];
    if (!def) {
        throw new Error(`Unknown Field No: ${fieldNo}`);
    }
    return def;
}

/**
 * Get all field definitions for a specific Prisma model
 */
export function getFieldsByModel(modelName: string): FieldDefinition[] {
    return Object.values(FIELD_DEFINITIONS).filter((def) => def.model === modelName);
}

/**
 * Check if a Field No is document-only (no data column)
 */
export function isDocumentOnlyField(fieldNo: number): boolean {
    const def = FIELD_DEFINITIONS[fieldNo];
    return def ? def.field === null : false;
}

/**
 * Get all Field Nos mapped to a specific model
 */
export function getFieldNosByModel(modelName: string): number[] {
    return Object.values(FIELD_DEFINITIONS)
        .filter((def) => def.model === modelName && def.field !== null)
        .map((def) => def.fieldNo);
}

/**
 * Validate Field No exists in canonical range
 */
export function isValidFieldNo(fieldNo: number): boolean {
    return fieldNo in FIELD_DEFINITIONS;
}
